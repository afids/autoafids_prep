Building DAG of jobs...
Using shell: /usr/bin/bash
Provided cores: 1 (use --cores to define parallelism)
Rules claiming more threads will be scaled down.
Singularity containers: ignored
Job stats:
job                     count    min threads    max threads
--------------------  -------  -------------  -------------
align_template_rigid       40              1              1
all                         1              1              1
fids2mni                   40              1              1
freesurfer2bids            40              1              1
freesurfer_preproc         40              1              1
skull_strip                32              1              1
total                     193              1              1

Select jobs to execute...

[Wed Jun 28 07:58:36 2023]
rule align_template_rigid:
    input: /home/ROBARTS/ataha/graham/scratch/afids-data/data/datasets/LHSCPD/derivatives/synthstrip/sub-120/anat/sub-120_desc-synthstrip_T1w.nii.gz, /home/ROBARTS/ataha/graham/scratch/afids-data/data/datasets/LHSCPD/sub-120/anat/sub-120_run-01_T1w.nii.gz
    output: /home/ROBARTS/ataha/graham/scratch/afids-data/data/datasets/LHSCPD/derivatives/tfrom_greedy/sub-120/anat/sub-120_acq-MP2RAGE_space-MNI152NLin2009cAsym.mat, /home/ROBARTS/ataha/graham/scratch/afids-data/data/datasets/LHSCPD/derivatives/tfrom_greedy/sub-120/anat/sub-120_acq-MP2RAGE_space-MNI152NLin2009cAsym_desc-synthstrip_T1w.nii.gz, /home/ROBARTS/ataha/graham/scratch/afids-data/data/datasets/LHSCPD/derivatives/tfrom_greedy/sub-120/anat/sub-120_acq-MP2RAGE_space-MNI152NLin2009cAsym_T1w.nii.gz
    jobid: 48
    reason: Missing output files: /home/ROBARTS/ataha/graham/scratch/afids-data/data/datasets/LHSCPD/derivatives/tfrom_greedy/sub-120/anat/sub-120_acq-MP2RAGE_space-MNI152NLin2009cAsym.mat, /home/ROBARTS/ataha/graham/scratch/afids-data/data/datasets/LHSCPD/derivatives/tfrom_greedy/sub-120/anat/sub-120_acq-MP2RAGE_space-MNI152NLin2009cAsym_T1w.nii.gz
    wildcards: subject=120
    resources: tmpdir=/tmp

[Wed Jun 28 07:59:10 2023]
Finished job 48.
1 of 193 steps (1%) done
Select jobs to execute...

[Wed Jun 28 07:59:10 2023]
rule align_template_rigid:
    input: /home/ROBARTS/ataha/graham/scratch/afids-data/data/datasets/LHSCPD/derivatives/synthstrip/sub-127/anat/sub-127_desc-synthstrip_T1w.nii.gz, /home/ROBARTS/ataha/graham/scratch/afids-data/data/datasets/LHSCPD/sub-127/anat/sub-127_run-01_T1w.nii.gz
    output: /home/ROBARTS/ataha/graham/scratch/afids-data/data/datasets/LHSCPD/derivatives/tfrom_greedy/sub-127/anat/sub-127_acq-MP2RAGE_space-MNI152NLin2009cAsym.mat, /home/ROBARTS/ataha/graham/scratch/afids-data/data/datasets/LHSCPD/derivatives/tfrom_greedy/sub-127/anat/sub-127_acq-MP2RAGE_space-MNI152NLin2009cAsym_desc-synthstrip_T1w.nii.gz, /home/ROBARTS/ataha/graham/scratch/afids-data/data/datasets/LHSCPD/derivatives/tfrom_greedy/sub-127/anat/sub-127_acq-MP2RAGE_space-MNI152NLin2009cAsym_T1w.nii.gz
    jobid: 73
    reason: Code has changed since last execution
    wildcards: subject=127
    resources: tmpdir=/tmp

[Wed Jun 28 07:59:45 2023]
Finished job 73.
2 of 193 steps (1%) done
Select jobs to execute...

[Wed Jun 28 07:59:45 2023]
rule freesurfer_preproc:
    input: /home/ROBARTS/ataha/graham/scratch/afids-data/data/datasets/LHSCPD/derivatives/tfrom_greedy/sub-127/anat/sub-127_acq-MP2RAGE_space-MNI152NLin2009cAsym_T1w.nii.gz
    output: /home/ROBARTS/ataha/graham/scratch/afids-data/data/datasets/LHSCPD/derivatives/freesurfer/sub-127/mri/T1.mgz
    jobid: 72
    reason: Missing output files: /home/ROBARTS/ataha/graham/scratch/afids-data/data/datasets/LHSCPD/derivatives/freesurfer/sub-127/mri/T1.mgz; Input files updated by another job: /home/ROBARTS/ataha/graham/scratch/afids-data/data/datasets/LHSCPD/derivatives/tfrom_greedy/sub-127/anat/sub-127_acq-MP2RAGE_space-MNI152NLin2009cAsym_T1w.nii.gz
    wildcards: subject=127
    resources: tmpdir=/tmp

[Wed Jun 28 07:59:46 2023]
Error in rule freesurfer_preproc:
    jobid: 72
    input: /home/ROBARTS/ataha/graham/scratch/afids-data/data/datasets/LHSCPD/derivatives/tfrom_greedy/sub-127/anat/sub-127_acq-MP2RAGE_space-MNI152NLin2009cAsym_T1w.nii.gz
    output: /home/ROBARTS/ataha/graham/scratch/afids-data/data/datasets/LHSCPD/derivatives/freesurfer/sub-127/mri/T1.mgz
    shell:
        
        rm -r /home/ROBARTS/ataha/graham/scratch/afids-data/data/datasets/LHSCPD/derivatives/freesurfer/sub-127
        recon-all -subject sub-127 -i /home/ROBARTS/ataha/graham/scratch/afids-data/data/datasets/LHSCPD/derivatives/tfrom_greedy/sub-127/anat/sub-127_acq-MP2RAGE_space-MNI152NLin2009cAsym_T1w.nii.gz -sd /home/ROBARTS/ataha/graham/scratch/afids-data/data/datasets/LHSCPD/derivatives/freesurfer -autorecon1
        
        (one of the commands exited with non-zero exit code; note that snakemake uses bash strict mode!)

Shutting down, this might take some time.
Exiting because a job execution failed. Look above for error message
Complete log: .snakemake/log/2023-06-28T075824.780050.snakemake.log
